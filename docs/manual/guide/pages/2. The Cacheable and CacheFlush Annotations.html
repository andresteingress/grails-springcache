<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>2. The Cacheable and CacheFlush Annotations</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    The <em class="italic">Springcache</em> plugin provides two annotations that are the basis of how you can apply caching and flushing behaviour to both Spring bean methods and page fragments. Both annotations are in the <code>grails.plugin.springcache.annotations</code> package.<p class="paragraph"/><h3>The <code>&#64;Cachable</code> annotation</h3><p class="paragraph"/>The <code>Cacheable</code> annotation is applied to methods on Spring managed beans such as Grails services to cache method results or to controller actions to cache page fragments. The annotation requires a cache name specified either as a standalone value or with the <code>cache</code> element. The following declarations are equivalent:<p class="paragraph"/><div class="code"><pre>&#64;Cacheable(<span class="java&#45;quote">"myCache"</span>)
&#64;Cacheable(cache = <span class="java&#45;quote">"myCache"</span>)</pre></div><p class="paragraph"/>To resolve the cache name in a non-standard way you can supply a <code>cacheResolver</code> element, see <a href="../guide/single.html#5. Cache Selection" class="guide">Cache Selection</a>. For content caching only you can also supply a <code>keyGenerator</code> element, see <a href="../guide/single.html#4.5. Content Cache Keys" class="guide">Content Cache Keys</a><p class="paragraph"/><h3>The <code>&#64;CacheFlush</code> annotation</h3><p class="paragraph"/>The <code>CacheFlush</code> annotation can be applied in the same places as the <code>Cacheable</code> annotation but instead of caching results it will cause a cache or set of caches to be flushed. The <code>CacheFlush</code> annotation requires a single element or a String array either as a standalone value or with the <code>caches</code> element. Either way the elements can simply be literal cache names or regular expression patterns that may match multiple cache names. For example:<p class="paragraph"/><div class="code"><pre>&#64;CacheFlush(<span class="java&#45;quote">"myCache"</span>)
&#64;CacheFlush(/&#119;+ControllerCache/)
&#64;CacheFlush(&#91;<span class="java&#45;quote">"cacheA"</span>, <span class="java&#45;quote">"cacheB"</span>, <span class="java&#45;quote">"cacheC"</span>&#93;)
&#64;CacheFlush(caches = &#91;<span class="java&#45;quote">"cacheA"</span>, <span class="java&#45;quote">"cacheB"</span>, <span class="java&#45;quote">"cacheC"</span>&#93;)
&#64;CacheFlush(&#91;/cache&#91;A&#45;Z&#93;/, <span class="java&#45;quote">"myCache"</span>&#93;)</pre></div><p class="paragraph"/>To resolve the cache names in a non-standard way you can supply a <code>cacheResolver</code> element, see <a href="../guide/single.html#5. Cache Selection" class="guide">Cache Selection</a>.

    </body>
</html>
